document['addEventListener']('DOMContentLoaded',function(){if(!Notification){alert('Desktop\x20notifications\x20not\x20available\x20in\x20your\x20browser.');return;}if(Notification['permission']!=='granted')Notification['requestPermission']();});function activateExpireDesktopNotif(_0x32f654){if(Notification['permission']!=='granted')Notification['requestPermission']();else{var _0x255c70=new Notification('Expiring\x20TryHackMe\x20Machine!',{'icon':'https://assets.tryhackme.com/img/logo/thm_white_graybg_rounded.png','body':'Your\x20machine\x20is\x20about\x20to\x20expire!\x20Extend\x20it\x20to\x20stop\x20it\x20from\x20terminating..'});_0x255c70['onclick']=function(){window['open'](_0x32f654);};}}let expireTimeout,terminateTimeout;function startExpireCheck(_0x32655e){removeExpireCheck();const _0x55be4d=Math['abs'](convertUTCDateToLocalDate(new Date(_0x32655e))-new Date()),_0x6098e7=_0x55be4d-0x5*0x3c*0x3e8;expireTimeout=window['setTimeout'](function(){activateExpireAlert();},_0x6098e7),terminateTimeout=window['setTimeout'](function(){activateTerminateAlert();},_0x55be4d);}function activateExpireAlert(_0x108c04){$('#expireSoon')['modal']('show');let _0xe2a8be='';if(_0x108c04=='room')_0xe2a8be=window['location']['protocol']+'//'+window['location']['hostname']+'/room/'+roomCode;else _0x108c04=='my-machine'&&(_0xe2a8be=window['location']['protocol']+'//'+window['location']['hostname']+'/my-machine');activateExpireDesktopNotif(_0xe2a8be);}function activateTerminateAlert(_0xd3ead7){$('#terminatedMachine')['modal']('show'),_0xd3ead7=='room'&&(ipEl['style']['display']='none',clearVmBoxes()),clearInterval(intervalId);}function removeExpireCheck(){window['clearTimeout'](expireTimeout),window['clearTimeout'](terminateTimeout);}let intervalId;function startTimer(_0x4eb135,_0xffefb3,_0x169d05){let _0x340ec5=parseInt(_0x4eb135),_0x14db8d=_0x340ec5,_0xc7bd8b,_0x4a40d5,_0xf64254;intervalId=setInterval(function(){_0xc7bd8b=parseInt(_0x14db8d/0x3c,0xa)%0x3c,_0x4a40d5=parseInt(_0x14db8d%0x3c,0xa),_0xf64254=parseInt(_0x14db8d/0xe10,0xa),_0xc7bd8b=_0xc7bd8b<0xa?'0'+_0xc7bd8b:_0xc7bd8b,_0x4a40d5=_0x4a40d5<0xa?'0'+_0x4a40d5:_0x4a40d5,_0xf64254=_0xf64254<0xa?'0'+_0xf64254:_0xf64254;let _0x1bfd5d=parseInt(_0xf64254)['toFixed'](0x0)+'h\x20'+_0xc7bd8b+'m\x20'+_0x4a40d5+'s';_0xf64254==0x0&&(_0x1bfd5d=_0xc7bd8b+'m\x20'+_0x4a40d5+'s'),_0xffefb3['textContent']=_0x1bfd5d,_0xf64254==0x0&&_0xc7bd8b==0x5&&_0x4a40d5==0x0&&activateExpireAlert(_0x169d05),_0xf64254==0x0&&_0xc7bd8b==0x0&&_0x4a40d5==0x0&&activateTerminateAlert(_0x169d05),--_0x14db8d<0x0&&(_0x14db8d=_0x340ec5);},0x3e8);}let IPIntervalId;function startIPTimer(_0x5730fc,_0x15f27a,_0x2195c3){let _0x36e5d5=parseInt(_0x15f27a),_0x56365d=_0x36e5d5,_0x568d39,_0x2d6849,_0x9d8e46;IPIntervalId=setInterval(function(){_0x568d39=parseInt(_0x56365d/0x3c,0xa)%0x3c,_0x2d6849=parseInt(_0x56365d%0x3c,0xa),_0x9d8e46=parseInt(_0x56365d/0xe10,0xa),_0x568d39=_0x568d39<0xa?'0'+_0x568d39:_0x568d39,_0x2d6849=_0x2d6849<0xa?'0'+_0x2d6849:_0x2d6849,_0x9d8e46=_0x9d8e46<0xa?'0'+_0x9d8e46:_0x9d8e46;let _0x495304=parseInt(_0x9d8e46)['toFixed'](0x0)+'h\x20'+_0x568d39+'m\x20'+_0x2d6849+'s';_0x9d8e46==0x0&&(_0x495304=_0x568d39+'m\x20'+_0x2d6849+'s'),_0x9d8e46==0x0&&_0x568d39==0x0&&(_0x495304=_0x2d6849+'s'),_0x5730fc['innerHTML']='Shown\x20in\x20'+_0x495304,_0x9d8e46==0x0&&_0x568d39==0x0&&_0x2d6849==0x0&&(_0x2195c3=='room'?checkForRunningInstances({'refreshWebBasedTab':![]}):getMachineState(),clearInterval(IPIntervalId)),--_0x56365d<0x0&&(_0x56365d=_0x36e5d5);},0x3e8);}